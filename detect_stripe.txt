
	縞判定フィルタ  ver 0.10


【概要】

　何となくインターレース縞の有無を判定するフィルタです。
　周期が微妙に一定ではないソースの周期ズレの検出にお使いください。

　本フィルタの処理自体は雑なこともあって割と高速なつもりですが、周期ズレを検出す
　るとなるとかなりのフレーム数の走査が必要になるため、ある程度の時間がかかるのを
　覚悟する必要があります。


【動作環境】

　version 0.99i4以降のAviUtlで動作します。SSE2必須、マルチスレッド対応です。
　Microsoft Visual C++ 2010 SP1 再頒布可能パッケージ (x86) のインストールが必要
　です。
　http://www.microsoft.com/downloads/ja-jp/details.aspx?FamilyID=c32f406a-f8fc-4164-b6eb-5328b8578f03&displayLang=ja


【インストール】

　aviutl.exeのあるフォルダ、またはaviutl.exeのあるフォルダに作られたpluginsフォ
　ルダの中にclip_l.aufを置いてください。


【使用方法】

　ほぼ周期一定24fpsなソースを手動インタレ解除する際の、周期ズレを検出するのが目
　的です。自動インタレ解除フィルタを使う場合は本フィルタは必要無いと思われます。

　本フィルタは画像を32x32ピクセルのブロックに分け、ブロックごとに縞の有無を大雑
　把に判定します。検出のしやすさは「検出強度」と「判定基準」の2つの項目で調節し
　ます。縞が検出された場合は設定ウィンドウ名に [縞検出] と表示されます。

　インタレ解除フィルタの設定が出来たら、「走査」または「全走査」ボタンを押すこと
　で、縞の検出が始まります。「走査」は縞が検出された時点で走査を終了し、「全走査」
　は縞が検出されたフレームをマークフレームに設定し、最後まで走査を行います。
　なお、走査は選択フレームの範囲内でのみ行います。


【設定項目】

　○検出強度

　　数値が小さいほど縞を検出しやすく、数値が大きいほど縞を検出しません。
　　数値が小さいと、インターレース縞でないノイズを拾う可能性が高くなります。
　　フィーリングな項目ですが、ソースに合わせて調節してください。
　　デフォルトでは強度が少し厳しめかもしれません。

　○判定基準

　　任意の3x3のブロックで、判定基準数以上のブロックで縞が認められた場合、縞を検
　　出したという判定を行います。ノイズを誤判定しないために、2以上に設定するのが
　　良いかと思います。

　○縞検出部分を反転する

　　縞が検出されたブロックをネガポジ変換して表示します。

　○走査

　　縞が検出されるまで先のフレームを判定し続けます。
　　全走査に関しても同様ですが、走査は選択フレームの範囲内でのみ行います。

　○全走査

　　縞が検出されたフレームをマークフレームに設定し、最後まで走査を行います。


【既知の問題】

　テキトーな作りのため、使用に際する条件がいろいろとありますが、あんまり修正する
　気は無いです。

　・走査中にAviUtlを終了すると異常終了する。
　　→走査を中止してから終了してください。

　・走査中にAviUtlを最小化したあと復元すると、設定ウィンドウ等が表示されない。
　　→AviUtlのツールバーを操作して、再度表示することはできます。

　・走査中にプロファイルを越えたらバグッた。
　　→仕様です、越えないようにしてください。

　・走査中にプロファイルを越えなくてもバグッた。
　　どうやら相性の悪いフィルタが存在するようなので、インターレース解除フィルタな
　　どの必要最低限のフィルタ以外は切ることを推奨します。

　その他、「これ仕様だとは言い逃れできないバグだろ」みたいな不具合がありましたら、
　報告頂ければ修正できるかもしれません。


【免責とか】

　本プラグイン及びソースコードは、改変したプラグインの公開などを含め自由に利用し
　て頂いて構いませんが、それらの利用によって生じたいかなる結果について、作者は責
　任を負いません。ただし、私のウェブページが閲覧不能になった場合などを除いては、
　私が配布しているものと完全に同一なプラグインの再配布はご遠慮下さい。
　バグ報告・要望などがございましたら、気軽に連絡くださるようお願い致します。


【更新履歴】

ver 0.10 (11/06/12)	初版公開。



http://www.geocities.jp/w_bean17/
oinari17@gmail.com
